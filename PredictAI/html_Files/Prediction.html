{% extends "layout.html"%} {% block content %}

<main>

<article>
     <section class="section hero" aria-label="hero" data-section>
      <div class="container">
        <div class="hero-content">
          <h1 class="h1 hero-title">Price Prediction</h1>
          <p class="hero-text">
            Accurate stock price prediction is extremely challenging because of
            multiple (macro and micro) factors, such as politics, global
            economic conditions, unexpected events, a company's financial
            performance, and so on. Here in Predict AI, we take into
            consideration many factors to improve prediction accuracy.
          </p>
        </div>

        <figure class="hero-banner">
          <img
            src="{{url_for('static', filename='Images/Stock-predict.png')}}"
            width="628"
            height="504"
            alt="hero banner"
            class="w-100"/>
        </figure>
      </div>
    </section> 


    <!-- 
        - #MARKET
      -->

    <article >
    <section class="section market" aria-label="market update" data-section>
      <div class="container">
        <div class="title-wrapper" id="search_title">
          <h2 class="h2 section-title">Predict Stocks</h2>
        </div>

        <div class="market-tab">
          
          <form action="{{ url_for('stockprediction') }}" method="POST">
            <div class="container-lg">
              <div class="row">
                <div class="col-md-auto">
                
                
                <div class="search_stock">
                  <input type="search" name="Ticker_Name" id="form-searchbar" placeholder="Company Name, Symbol..." />
                  <input type="submit" class="card-button" onclick="" id="search_botton" name="predict" value="Search" />
                </div>
                  
          </form>
        </div>
      </div>
      </div> 

      <table class="market-table">
        <thead class="table-head">
            <tr class="table-row table-title">
              <th class="table-heading"></th>

              <th class="table-heading" scope="col">#</th>

              <th class="table-heading" scope="col">Name</th>
              <th class="table-heading"></th>
            </tr>
          </thead>
          <div>
          {%for comp in comp%}
{% set row_number = loop.index + (pagination.page - 1) * pagination.per_page %}


          <td class="table-data">
              <button class="add-to-fav" aria-label="Add to favourite" data-add-to-fav>
                <ion-icon name="star-outline" aria-hidden="true" class="icon-outline"></ion-icon>
                <ion-icon name="star" aria-hidden="true" class="icon-fill"></ion-icon>
              </button>
          </td>

           <th class="table-data rank" scope="row">{{ row_number }}</th>
                      <td class="table-data">
              <div class="wrapper" id="comp_logo">
                <img src="{{url_for('static', filename='Images/NYSE_Stocks/'+comp.Symbol|string+'.png')}}" width="60" height="60" 
                alt="{{url_for('static', filename='Images/placeholder.png')}}" class="img" />

                <h3>
                {%for compinfo in compinfo%}
                {%if comp.Symbol == compinfo.symbol %}
                  <a class="stock-name"> {{compinfo.Name}}<span class="span">{{comp.Symbol}}</span></a>


                {%endif%}
                {%endfor%}


              </h3>
              </div>
            </td>
            </tr>



  {%endfor%}

        </div>

        </table>
  {% if pagination.pages > 1 %}
      <nav aria-label="Page navigation">
          <ul class="pagination">
              {% if pagination.has_prev %}
                  <li class="page-item"><a class="page-link" href="{{ url_for(request.endpoint, page=pagination.prev_num) }}">Previous</a></li>
              {% else %}
                  <li class="page-item disabled"><span class="page-link">Previous</span></li>
              {% endif %}
              {% for page in pagination.iter_pages() %}
                  {% if page %}
                      {% if page == pagination.page %}
                          <li class="page-item active"><span class="page-link">{{ page }}</span></li>
                      {% else %}
                          <li class="page-item"><a class="page-link" href="{{ url_for(request.endpoint, page=page) }}">{{ page }}</a></li>
                      {% endif %}
                  {% else %}
                      <li class="page-item disabled"><span class="page-link">...</span></li>
                  {% endif %}
              {% endfor %}
              {% if pagination.has_next %}
                  <li class="page-item"><a class="page-link" href="{{ url_for(request.endpoint, page=pagination.next_num) }}">Next</a></li>
              {% else %}
                  <li class="page-item disabled"><span class="page-link">Next</span></li>
              {% endif %}
          </ul>
      </nav>
  {% endif %}


    </section>
  </article>
</main>
{% endblock content%}